Пояснения к примененному алгоритму:
Будем хранить набор всех знаков как ограничение + количество.
Сортируем весь набор по количеству, находим 2 максимальных по количеству знака.

